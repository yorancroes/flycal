/* Tokyo Night Theme Variables */
$background: #1a1b26;
$surface: #32344a;
$surface-lighten-2: #444b6a;
$primary: #7aa2f7;
$text: #a9b1d6;
$text-muted: #787c99;

/* Base App Colors */
Screen {
    background: $background;
}

ContentSwitcher, WeekView {
    background: transparent;
    height: 100%;
}

/* 1. The WeekView Layout */
WeekView Horizontal {
    height: 100%;
}

#left-panel {
    width: 80%;
    height: 100%;
    background: transparent;
}

TaskBar {
    width: 20%;
    height: 100%;
    background: $surface;
    border-left: solid $surface-lighten-2;
    padding: 1;
}

/* 2. THE GRID FIX: This must target the specific widget yielding the slots */
CalendarGrid {
    layout: grid;
    height: 100%;
    width: 100%;
    /* 8 Columns: Time + 7 Days */
    grid-columns: auto 1fr 1fr 1fr 1fr 1fr 1fr 1fr;
    /* 1 Row for Header + 16 Rows for Hours (7:00 to 22:00) */
    grid-rows: auto 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4;
    grid-gutter: 0 0;
}

/* 3. Slot and Header Styling */
.day-header {
    text-align: center;
    color: $primary;
    text-style: bold;
    border-bottom: solid $surface;
    content-align: center middle;
}

.header-corner {
    border-bottom: solid $surface;
    border-right: solid $surface;
}

.time-label {
    text-align: right;
    padding-right: 1;
    color: $text-muted;
    border-right: solid $surface;
    content-align: right middle;
}

.calendar-slot {
    border: solid $surface;
    background: transparent;
}

.calendar-slot:hover {
    background: $surface-lighten-2;
}

/* 4. TaskBar Styling */
.task-bar-title {
    color: $primary;
    text-style: bold;
    margin-bottom: 1;
}

.task-item {
    color: $text;
    background: $surface-lighten-2;
    margin-bottom: 1;
    padding: 0 1;
}

Footer {
    background: $surface;
    color: $text-muted;
}
